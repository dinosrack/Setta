<?xml version="1.0" encoding="utf-8" ?>
<toolkit:Popup
    xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
    xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
    xmlns:toolkit="http://schemas.microsoft.com/dotnet/2022/maui/toolkit"
    xmlns:models="clr-namespace:Setta.Models"
    x:Class="Setta.PopupPages.SelectionPopup"
    Color="Transparent"
    VerticalOptions="End"
    HorizontalOptions="Fill">

    <toolkit:Popup.Resources>
        <ResourceDictionary>
            <models:BoolToColorConverter x:Key="SelectedColorConverter" />
        </ResourceDictionary>
    </toolkit:Popup.Resources>

    <Grid HorizontalOptions="Center" VerticalOptions="End">
        <Border
            StrokeShape="RoundRectangle 10,10,0,0"
            Padding="20"
            BackgroundColor="{AppThemeBinding Light={StaticResource LightBackground}, Dark={StaticResource DarkBackground}}"
            HorizontalOptions="Fill"
            VerticalOptions="End">

            <VerticalStackLayout Spacing="10">

                <BoxView HeightRequest="4"
                         WidthRequest="40"
                         CornerRadius="10"
                         HorizontalOptions="Center"
                         BackgroundColor="{StaticResource Secondary}" />

                <Label x:Name="TitleLabel"
                       Text="Заголовок"
                       Style="{StaticResource HeadlineLabel}" />

                <ScrollView>
                    <FlexLayout
                        x:Name="ItemsLayout"
                        Wrap="Wrap"
                        Direction="Row"
                        JustifyContent="Start"
                        AlignItems="Start"
                        Margin="0,-10,0,0">
                    </FlexLayout>
                </ScrollView>

                <Button Text="Применить"
                        x:Name="ApplyButton"
                        Clicked="OnApply"
                        BackgroundColor="{StaticResource Important}"
                        TextColor="{StaticResource DarkText}"
                        Margin="0,10,0,0"/>
            </VerticalStackLayout>
        </Border>
    </Grid>
</toolkit:Popup>
